<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rock Paper Scissors</title>
</head>
<body>


    <button id="btnR"> Rock</button>
    <button id="btnS"> Scissor</button>
    <button  id="btnP"> Paper</button>
    <div id="container"></div>
    <script>
            
        let humanScore = 0;
        let computerScore = 0;


        let scoreTotal = document.createElement('div');
        let results = document.createElement('div');


         //  Functions plays one round of Rock Paper Scissors
         function playRound(humanChoice, computerChoice) {
            
            let winner = document.createElement("div");
            
            if (humanChoice === computerChoice) {

                results.textContent = `${humanChoice} vs ${computerChoice}. It's a tie!`;
                

            }

            else if ((humanChoice === 'Rock' && computerChoice === 'Scissors') || (humanChoice === 'Paper' && computerChoice === 'Rock')
                 || (humanChoice === 'Scissor' && computerChoice === 'Paper') ) {
                
                results.textContent = `${humanChoice} beats ${computerChoice}. You win`;
                ++humanScore;
                scoreTotal.textContent =  `Your score is: ${humanScore} \nThe computer's score is: ${computerScore}`;
            }

            else {
                results.textContent = `${computerChoice} beats ${humanChoice} you lose`;
                ++computerScore;
                scoreTotal.textContent = `Your score is: ${humanScore} \nThe computer's score is: ${computerScore}`;
            }

            if (humanScore === 5 || computerScore === 5) {
                
                if (humanScore > computerScore) {
                    winner.textContent = 'Congratulations! You won the game!';
                }

                else {
                    winner.textContent = 'The computer won this time. Better luck next time';
                }

                container.appendChild(winner);
                humanScore = 0;
                computerScore = 0;
                return;
            }

            container.appendChild(results);
            container.appendChild(scoreTotal);

            }


        
    
        


     
        // function to get a cumptuer's 'choice' by using the .random() function
        function getComputerChoice() {

            let computerChoice = '';
            const computerDecide = Math.floor(Math.random() * 3) + 1;
            if (computerDecide === 1) {
                return computerChoice = 'Rock';
            }

            else if (computerDecide === 2 ) {
                return computerChoice = 'Paper';
            }

            else {
                return computerChoice = 'Scissors';
            }
        }

        const btnR = document.querySelector("#btnR");
        const btnP = document.querySelector("#btnP");   
        const btnS = document.querySelector("#btnS");

        btnR.addEventListener('click', () => {
            computerSelection = getComputerChoice();
            humanSelection = 'Rock';
            playRound(humanSelection, computerSelection);
        });
        btnP.addEventListener('click', () => {
            computerSelection = getComputerChoice();
            humanSelection = 'Paper';
            playRound(humanSelection, computerSelection);
        }); 
        btnS.addEventListener('click', () => {
            computerSelection = getComputerChoice();
            humanSelection = 'Scissor';
            playRound(humanSelection, computerSelection);
        });


    if( container.hasChildNodes()) {

        container.removeChild(scoreTotal);
        container.removeChild(results);

    };
        
    </script>
</body>
</html>